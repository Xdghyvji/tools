<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Boost your Instagram presence with DigitalServicesHub. AI-powered tools to generate viral captions, trending hashtags, aesthetic bios, and creative story ideas.">
    <title>Instagram Tools | DigitalServicesHub.online</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], heading: ['Plus Jakarta Sans', 'sans-serif'] },
                    colors: { brand: { 50: '#eff6ff', 100: '#dbeafe', 500: '#3b82f6', 600: '#2563eb', 700: '#1d4ed8', 900: '#1e3a8a' }, insta: { 500: '#ec4899', 600: '#db2777' } }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar for Tool Nav */
        .custom-scrollbar::-webkit-scrollbar { height: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f5f9; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 10px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: #94a3b8; }
        
        .glass-effect { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .tool-tab.active { background-color: #fce7f3; color: #db2777; border-bottom: 2px solid #db2777; }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans antialiased flex flex-col min-h-screen">

    <header class="fixed w-full top-0 z-50 glass-effect border-b border-slate-200 shadow-sm transition-all duration-300 h-20" id="main-header"></header>

    <div class="fixed top-20 w-full z-40 bg-white border-b border-slate-200 shadow-sm h-16 flex items-center">
        <div class="max-w-7xl mx-auto w-full">
            <div class="flex items-center overflow-x-auto px-4 space-x-4 custom-scrollbar flex-nowrap">
                <a href="index.html" class="flex-shrink-0 flex items-center gap-2 px-4 py-1.5 rounded-full text-slate-600 hover:bg-slate-50 border border-transparent hover:border-slate-200 whitespace-nowrap transition-colors">
                    <i data-lucide="youtube" class="w-4 h-4"></i> YouTube
                </a>
                <a href="instagram.html" class="flex-shrink-0 flex items-center gap-2 px-4 py-1.5 rounded-full bg-pink-50 text-pink-600 border border-pink-100 font-semibold whitespace-nowrap shadow-sm transition-colors">
                    <i data-lucide="instagram" class="w-4 h-4"></i> Instagram
                </a>
                <a href="tiktok.html" class="flex-shrink-0 flex items-center gap-2 px-4 py-1.5 text-slate-600 hover:bg-slate-50 whitespace-nowrap transition-colors border border-transparent hover:border-slate-200 rounded-full">
                    <i data-lucide="music-2" class="w-4 h-4"></i> TikTok
                </a>
                <a href="blog-tools.html" class="flex-shrink-0 flex items-center gap-2 px-4 py-1.5 text-slate-600 hover:bg-slate-50 whitespace-nowrap transition-colors border border-transparent hover:border-slate-200 rounded-full">
                    <i data-lucide="file-text" class="w-4 h-4"></i> Blog & SEO
                </a>
                <a href="email-tools.html" class="flex-shrink-0 flex items-center gap-2 px-4 py-1.5 text-slate-600 hover:bg-slate-50 whitespace-nowrap transition-colors border border-transparent hover:border-slate-200 rounded-full">
                    <i data-lucide="mail" class="w-4 h-4"></i> Email
                </a>
                <a href="twitter-tools.html" class="flex-shrink-0 flex items-center gap-2 px-4 py-1.5 text-slate-600 hover:bg-slate-50 whitespace-nowrap transition-colors border border-transparent hover:border-slate-200 rounded-full">
                    <i data-lucide="twitter" class="w-4 h-4"></i> Twitter
                </a>
            </div>
        </div>
    </div>

    <div class="pt-48 pb-4 max-w-7xl mx-auto px-4 hidden" id="ad-728-90-container">
        <p class="text-[10px] text-slate-400 text-center uppercase tracking-wider mb-1">Advertisement</p>
        <div id="ad-728-90" class="w-[728px] h-[90px] mx-auto bg-slate-50 border border-slate-200 flex items-center justify-center"></div>
    </div>

    <section class="pt-48 pb-20 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" id="tools">
        <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
            
            <div class="text-center lg:text-left animate-fade-in">
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-pink-100 text-pink-600 text-xs font-semibold mb-6 border border-pink-200">
                    <i data-lucide="heart" class="w-3 h-3 fill-current animate-pulse"></i>
                    Trending Instagram Tools
                </div>
                <h1 class="text-4xl lg:text-6xl font-bold font-heading text-slate-900 leading-tight mb-6">
                    Skyrocket Your <br>

                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-600">Instagram Growth</span>
                </h1>
                <p class="text-lg text-slate-600 mb-8 leading-relaxed max-w-2xl mx-auto lg:mx-0">
                    Stand out in the feed with AI-generated aesthetic captions, niche-specific hashtags, and engaging story ideas. Build a loyal community effortlessly.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start text-sm font-medium text-slate-500">
                    <div class="flex items-center gap-2"><i data-lucide="trending-up" class="w-5 h-5 text-pink-500"></i> Increase Reach</div>
                    <div class="flex items-center gap-2"><i data-lucide="users" class="w-5 h-5 text-purple-500"></i> Boost Engagement</div>
                    <div class="flex items-center gap-2"><i data-lucide="sparkles" class="w-5 h-5 text-yellow-500"></i> Aesthetic Content</div>
                </div>
            </div>

            <div class="bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden animate-slide-up relative z-10">
                <div class="bg-slate-50 border-b border-slate-200 flex overflow-x-auto custom-scrollbar">
                    <button onclick="setTool('captions')" class="tool-tab active flex-1 py-4 px-4 font-medium text-sm whitespace-nowrap text-slate-600 hover:bg-white transition-colors">Captions</button>
                    <button onclick="setTool('hashtags')" class="tool-tab flex-1 py-4 px-4 font-medium text-sm whitespace-nowrap text-slate-600 hover:bg-white transition-colors">Hashtags</button>
                    <button onclick="setTool('bio')" class="tool-tab flex-1 py-4 px-4 font-medium text-sm whitespace-nowrap text-slate-600 hover:bg-white transition-colors">Bio</button>
                    <button onclick="setTool('stories')" class="tool-tab flex-1 py-4 px-4 font-medium text-sm whitespace-nowrap text-slate-600 hover:bg-white transition-colors">Story Ideas</button>
                </div>
                <div class="p-8">
                    <div class="mb-6">
                        <h3 class="font-bold text-slate-900 mb-2 text-xl" id="tool-title">Instagram Caption Generator</h3>
                        <p class="text-sm text-slate-500" id="tool-desc">Generate engaging, witty, or aesthetic captions for your photos.</p>
                    </div>
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-700 mb-1">Post Content / Vibe</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                    <i data-lucide="instagram" class="h-5 w-5 text-slate-400"></i>
                                </div>
                                <input type="text" id="user-input" class="w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-pink-500 outline-none transition-all" placeholder="e.g., Coffee date with friends in Paris">
                            </div>
                        </div>
                        <button id="generate-btn" class="w-full py-3.5 bg-pink-600 text-white rounded-lg font-bold hover:bg-pink-700 transition-transform hover:scale-[1.02] flex items-center justify-center gap-2 shadow-lg shadow-pink-500/30">
                            <i data-lucide="sparkles" class="w-4 h-4"></i> <span>Generate Magic</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="py-8 flex justify-center bg-slate-50 hidden" id="ad-468-60-container">
        <div>
            <p class="text-[10px] text-slate-400 text-center uppercase tracking-wider mb-1">Sponsored</p>
            <div id="ad-468-60" class="bg-white border border-slate-200 w-[468px] h-[60px] flex items-center justify-center"></div>
        </div>
    </div>

    <section class="bg-white py-16 border-y border-slate-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                <div class="space-y-2">
                    <h3 class="text-3xl font-bold text-slate-900">1M+</h3>
                    <p class="text-sm text-slate-500 font-medium uppercase tracking-wide">Captions Generated</p>
                </div>
                <div class="space-y-2">
                    <h3 class="text-3xl font-bold text-slate-900">150k+</h3>
                    <p class="text-sm text-slate-500 font-medium uppercase tracking-wide">Hashtags Analyzed</p>
                </div>
                <div class="space-y-2">
                    <h3 class="text-3xl font-bold text-slate-900">4.9/5</h3>
                    <p class="text-sm text-slate-500 font-medium uppercase tracking-wide">User Rating</p>
                </div>
                <div class="space-y-2">
                    <h3 class="text-3xl font-bold text-slate-900">Free</h3>
                    <p class="text-sm text-slate-500 font-medium uppercase tracking-wide">Forever</p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-20 bg-slate-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center max-w-3xl mx-auto mb-16">
                <h2 class="text-3xl font-bold text-slate-900 mb-4 font-heading">Master the Instagram Algorithm</h2>
                <p class="text-slate-600 text-lg">
                    Success on Instagram isn't just about pretty pictures. It's about the right words, the right tags, and consistent engagement. We automate the hard part.
                </p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition-shadow border border-slate-100">
                    <div class="w-12 h-12 bg-pink-100 rounded-xl flex items-center justify-center text-pink-600 mb-6">
                        <i data-lucide="message-circle" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-3">Engaging Captions</h3>
                    <p class="text-slate-600 leading-relaxed">
                        Stop staring at a blank screen. Get captions that ask questions, tell stories, and encourage comments to boost your engagement rate.
                    </p>
                </div>
                <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition-shadow border border-slate-100">
                    <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center text-purple-600 mb-6">
                        <i data-lucide="hash" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-3">Smart Hashtags</h3>
                    <p class="text-slate-600 leading-relaxed">
                        We identify niche-specific hashtags that aren't saturated, giving your posts a real chance to rank on the Explore page.
                    </p>
                </div>
                <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-md transition-shadow border border-slate-100">
                    <div class="w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center text-yellow-600 mb-6">
                        <i data-lucide="zap" class="w-6 h-6"></i>
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 mb-3">Story Ideas</h3>
                    <p class="text-slate-600 leading-relaxed">
                        Keep your audience hooked daily with creative story concepts that drive interaction through polls, questions, and stickers.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-20 bg-white border-t border-slate-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-16 items-center">
                <div class="relative">
                    <div class="absolute inset-0 bg-gradient-to-tr from-pink-200 to-purple-200 rounded-full blur-3xl opacity-50"></div>
                    <img src="https://images.unsplash.com/photo-1611262588024-d12430b98920?q=80&w=1974&auto=format&fit=crop" alt="Instagram Creator Dashboard" class="relative rounded-2xl shadow-2xl border border-slate-200 transform rotate-2 hover:rotate-0 transition-transform duration-500">
                </div>
                <div>
                    <h2 class="text-3xl font-bold text-slate-900 mb-8 font-heading">Create Viral Content in Seconds</h2>
                    <div class="space-y-8">
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-slate-900 text-white flex items-center justify-center font-bold">1</div>
                            <div>
                                <h4 class="text-lg font-bold text-slate-900 mb-2">Choose Your Vibe</h4>
                                <p class="text-slate-600">Select the tool you need from the top bar: Captions, Hashtags, or Bio creation.</p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-slate-900 text-white flex items-center justify-center font-bold">2</div>
                            <div>
                                <h4 class="text-lg font-bold text-slate-900 mb-2">Describe Your Content</h4>
                                <p class="text-slate-600">Give our AI a few words about your photo, reel, or brand personality.</p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div class="flex-shrink-0 w-10 h-10 rounded-full bg-slate-900 text-white flex items-center justify-center font-bold">3</div>
                            <div>
                                <h4 class="text-lg font-bold text-slate-900 mb-2">Copy & Post</h4>
                                <p class="text-slate-600">Get multiple variations instantly. Copy your favorite one and watch the likes roll in.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- NEW CONTENT: Detailed Content Section for SEO & User Guide -->
    <section class="py-20 bg-slate-50 border-t border-slate-200">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            
            <!-- Why This Tool Matters -->
            <div class="mb-16">
                <h2 class="text-3xl font-bold text-slate-900 mb-6 font-heading">The Secret to Instagram Algorithm Dominance</h2>
                <div class="prose prose-lg text-slate-600 leading-relaxed">
                    <p class="mb-4">
                        Instagram has evolved from a simple photo-sharing app into a complex global marketplace and branding powerhouse. With over 2 billion active users, the competition for attention is fierce. The algorithm prioritizes content that drives <strong>meaningful engagement</strong>—comments, saves, and shares—rather than just passive likes.
                    </p>
                    <p class="mb-4">
                        Many creators struggle because they focus solely on visuals. While a high-quality image stops the scroll, it’s the <strong>caption</strong> that builds the connection and triggers the comment. A well-crafted caption adds context, showcases personality, and includes a Call-to-Action (CTA) that invites interaction. Without this, even the most beautiful photos can fall flat.
                    </p>
                    <p>
                        Furthermore, <strong>hashtags</strong> act as the SEO of Instagram. They are the primary way for non-followers to discover your content via the Explore page. Using the wrong hashtags (or banned ones) can make your content invisible. Our AI suite eliminates this guesswork by generating aesthetic captions, researching effective hashtags, and crafting bios that convert visitors into followers instantly.
                    </p>
                </div>
            </div>

            <!-- How to Use Guide -->
            <div class="mb-16">
                <h2 class="text-3xl font-bold text-slate-900 mb-6 font-heading">How to Optimize Your Instagram Strategy</h2>
                <div class="space-y-8">
                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-200">
                        <h3 class="text-xl font-bold text-pink-600 mb-4 flex items-center gap-2">
                            <i data-lucide="type" class="w-5 h-5"></i> 1. The Aesthetic Caption Generator
                        </h3>
                        <p class="text-slate-600 mb-4">
                            Don't post a "no caption" photo ever again. Use this tool by describing your image (e.g., "Sunset at the beach with besties"). The AI will generate options ranging from:
                        </p>
                        <ul class="list-disc list-inside text-slate-600 space-y-2 ml-4">
                            <li><strong>Short & Punny:</strong> Quick one-liners for casual posts.</li>
                            <li><strong>Storytelling:</strong> Longer paragraphs for building personal connections.</li>
                            <li><strong>Question-Based:</strong> Prompts like "What's your favorite sunset spot?" to drive comments.</li>
                        </ul>
                    </div>

                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-200">
                        <h3 class="text-xl font-bold text-pink-600 mb-4 flex items-center gap-2">
                            <i data-lucide="hash" class="w-5 h-5"></i> 2. Niche Hashtag Finder
                        </h3>
                        <p class="text-slate-600">
                            Stop using #love and #happy. They are too saturated. Instead, enter your specific niche (e.g., "Streetwear Fashion"). Our tool generates a mix of medium-volume tags that give you a realistic chance of ranking on the Explore page, ensuring your content reaches people actually interested in your topic.
                        </p>
                    </div>

                    <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-200">
                        <h3 class="text-xl font-bold text-pink-600 mb-4 flex items-center gap-2">
                            <i data-lucide="user-circle" class="w-5 h-5"></i> 3. The Perfect Bio
                        </h3>
                        <p class="text-slate-600">
                            Your bio is your digital business card. You have less than 3 seconds to convince a visitor to follow. Use the "Bio" tool to create a profile summary that clearly states who you are, what you do, and includes a strong reason to follow (e.g., "Daily tips for home cooks").
                        </p>
                    </div>
                </div>
            </div>

            <!-- FAQ Section -->
            <div>
                <h2 class="text-3xl font-bold text-slate-900 mb-8 font-heading text-center">Frequently Asked Questions</h2>
                <div class="space-y-4">
                    <details class="group bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-6 text-slate-900 hover:bg-slate-50 transition-colors">
                            <span>Are these tools safe to use? Will I get shadowbanned?</span>
                            <span class="transition group-open:rotate-180">
                                <i data-lucide="chevron-down" class="w-5 h-5 text-slate-400"></i>
                            </span>
                        </summary>
                        <div class="text-slate-600 px-6 pb-6 animate-fade-in">
                            Yes, they are 100% safe. We do not require your Instagram login details, nor do we automate actions on your account (like bot liking/following). We simply generate text that you copy and paste. Shadowbans come from using banned hashtags or bot behavior—our tool helps you avoid that.
                        </div>
                    </details>

                    <details class="group bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-6 text-slate-900 hover:bg-slate-50 transition-colors">
                            <span>Can I use the caption generator for Reels?</span>
                            <span class="transition group-open:rotate-180">
                                <i data-lucide="chevron-down" class="w-5 h-5 text-slate-400"></i>
                            </span>
                        </summary>
                        <div class="text-slate-600 px-6 pb-6 animate-fade-in">
                            Absolutely. Reels actually require <strong>shorter, punchier</strong> captions because the text is often truncated quickly. Our AI is tuned to create hooks that work perfectly for short-form video content.
                        </div>
                    </details>

                    <details class="group bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-6 text-slate-900 hover:bg-slate-50 transition-colors">
                            <span>How many hashtags should I use?</span>
                            <span class="transition group-open:rotate-180">
                                <i data-lucide="chevron-down" class="w-5 h-5 text-slate-400"></i>
                            </span>
                        </summary>
                        <div class="text-slate-600 px-6 pb-6 animate-fade-in">
                            Instagram allows up to 30 hashtags. While strategies vary, we recommend using between 15-20 highly relevant tags. Our tool generates lists that you can curate to fit this range perfectly.
                        </div>
                    </details>

                    <details class="group bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                        <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-6 text-slate-900 hover:bg-slate-50 transition-colors">
                            <span>Is this service really free?</span>
                            <span class="transition group-open:rotate-180">
                                <i data-lucide="chevron-down" class="w-5 h-5 text-slate-400"></i>
                            </span>
                        </summary>
                        <div class="text-slate-600 px-6 pb-6 animate-fade-in">
                            Yes! DigitalServicesHub is committed to providing free, high-quality tools for creators. We support the platform through unobtrusive ads, keeping the core features free for everyone.
                        </div>
                    </details>
                </div>
            </div>

        </div>
    </section>

    <footer id="main-footer"></footer>

    <div id="result-modal" class="fixed inset-0 z-[100] bg-slate-900/50 backdrop-blur-sm hidden flex items-center justify-center opacity-0 transition-opacity duration-300">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl m-4 flex flex-col max-h-[80vh] transform scale-95 transition-transform duration-300" id="result-modal-content">
            <div class="p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50 rounded-t-2xl">
                <div>
                    <h3 class="font-bold text-xl text-slate-900" id="modal-title">Generated Results</h3>
                    <p class="text-xs text-slate-500">Optimized for Instagram</p>
                </div>
                <div class="flex gap-3">
                    <button onclick="copyContent()" class="flex items-center gap-2 px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-sm font-medium hover:bg-slate-50 transition-colors text-slate-700">
                        <i data-lucide="copy" class="w-4 h-4"></i> Copy
                    </button>
                    <button onclick="closeModal()" class="p-2 hover:bg-slate-200 rounded-full transition-colors text-slate-500">
                        <i data-lucide="x" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>
            <div class="flex-1 p-8 overflow-y-auto">
                <div id="result-content" class="prose prose-slate max-w-none text-slate-800 leading-relaxed"></div>
            </div>
            <div class="p-4 border-t border-slate-100 flex justify-center bg-slate-50 rounded-b-2xl hidden" id="ad-modal-container">
                <div>
                    <p class="text-[10px] text-slate-400 text-center uppercase mb-1">Sponsored</p>
                    <div id="ad-modal" class="w-[300px] h-[250px] bg-white border border-slate-200 flex items-center justify-center"></div>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { 
            loadHeader, 
            loadFooter, 
            loadGlobalSettings, 
            loadSystemPrompts, 
            getPromptForTool, 
            generateAIContent 
        } from './assets/js/shared.js';

        // Page Specific Config
        let currentTool = 'captions';
        const titles = { 
            'captions': 'Instagram Caption Generator', 
            'hashtags': 'Hashtag Generator', 
            'bio': 'Bio Creator', 
            'stories': 'Story Idea Generator' 
        };

        // Initialization
        document.addEventListener("DOMContentLoaded", async () => {
            // 1. Load Shared UI
            loadHeader('home');
            loadFooter();

            // 2. Load Settings & Prompts
            const settings = await loadGlobalSettings();
            if(settings && settings.title) {
                document.title = settings.title.replace('YouTube', 'Instagram');
            }
            await loadSystemPrompts();

            // 3. Setup Generation Button
            const genBtn = document.getElementById('generate-btn');
            if(genBtn) {
                genBtn.addEventListener('click', handleGenerate);
            }
        });

        // Generation Logic
        async function handleGenerate() {
            const input = document.getElementById('user-input');
            const btn = document.getElementById('generate-btn');
            const originalContent = btn.innerHTML;
            
            if(!input.value.trim()) {
                input.classList.add('ring-2', 'ring-pink-500');
                setTimeout(() => input.classList.remove('ring-2', 'ring-pink-500'), 1000);
                return;
            }
            
            btn.innerHTML = `<div class="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></div><span>Processing...</span>`;
            btn.disabled = true;

            try {
                const toolKey = `insta_${currentTool}`;
                const promptTemplate = getPromptForTool(toolKey, input.value);
                const responseText = await generateAIContent(promptTemplate, toolKey, input.value);
                
                const modal = document.getElementById('result-modal');
                const outputDiv = document.getElementById('result-content');
                
                // Formatting
                let formattedHtml = responseText
                    .replace(/\*\*(.*?)\*\*/g, '<strong class="text-pink-600">$1</strong>')
                    .replace(/\n/g, '<br>');
                    
                outputDiv.innerHTML = formattedHtml;
                document.getElementById('modal-title').innerText = titles[currentTool] + " Results";

                // Show Modal
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    document.getElementById('result-modal-content').classList.remove('scale-95');
                    document.getElementById('result-modal-content').classList.add('scale-100');
                }, 10);
                
                if(window.lucide) window.lucide.createIcons();

            } catch (e) {
                alert(e.message || "Error generating content");
            } finally {
                btn.innerHTML = originalContent;
                btn.disabled = false;
            }
        }

        // Window Global Functions (for onclick handlers in HTML)
        window.setTool = (tool) => {
            currentTool = tool;
            // Visual updates
            document.querySelectorAll('.tool-tab').forEach(t => {
                t.classList.remove('active', 'text-pink-600', 'border-b-2', 'border-pink-600');
                t.classList.add('text-slate-600', 'hover:bg-white');
            });
            const activeBtn = document.querySelector(`button[onclick="setTool('${tool}')"]`);
            if(activeBtn) {
                activeBtn.classList.add('active', 'text-pink-600', 'border-b-2', 'border-pink-600');
                activeBtn.classList.remove('text-slate-600', 'hover:bg-white');
            }
            // Title Animation
            const titleEl = document.getElementById('tool-title');
            titleEl.style.opacity = 0;
            setTimeout(() => {
                titleEl.innerText = titles[tool];
                titleEl.style.opacity = 1;
            }, 200);
        };

        window.closeModal = () => {
            const modal = document.getElementById('result-modal');
            modal.classList.add('opacity-0');
            document.getElementById('result-modal-content').classList.remove('scale-100');
            document.getElementById('result-modal-content').classList.add('scale-95');
            setTimeout(() => modal.classList.add('hidden'), 300);
        };

        window.copyContent = () => {
            const text = document.getElementById('result-content').innerText;
            navigator.clipboard.writeText(text);
            alert("Content copied to clipboard!");
        };
    </script>
</body>
</html>
